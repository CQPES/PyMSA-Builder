# PyMSA-Builder

## Introduction

Script to wrap Fortran codes generated by [MSA-2.0](https://github.com/szquchen/MSA-2.0) using `f2py`.

## Usage

```sh
$ perl build.pl
MSA-2.0 already exists!    
Building excutable `msa`...
Done!
Do you want to build Python module? [Y/n] 
Clean up after building? [Y/n] 
max degree of PIP: 4
molecule configuration: 4 1
range parameter for Morse-like variables (default 2.0d0): 1.0d0
Generating PIP basis...
Generating Fortran files...
Building Python module `msa`...
Done!
To test Python module `msa`, run command:
$ python3 -c "from msa import basis, gradient; print(basis.__doc__); print(gradient.__doc__)"
Please check the output if any error exists!
Done!
$ python3 -c "from msa import basis, gradient; print(basis.__doc__); print(gradient.__doc__)"
v = emsav(x,c)

Wrapper for ``emsav``.

Parameters
----------
x : input rank-1 array('d') with bounds (10)
c : input rank-1 array('d') with bounds (83)

Returns
-------
v : float
p = bemsav(x)

Wrapper for ``bemsav``.

Parameters
----------
x : input rank-1 array('d') with bounds (10)

Returns
-------
p : rank-1 array('d') with bounds (83)      
m = evmono(x)

Wrapper for ``evmono``.

Parameters
----------
x : input rank-1 array('d') with bounds (10)

Returns
-------
m : rank-1 array('d') with bounds (262)     
p = evpoly(m)

Wrapper for ``evpoly``.

Parameters
----------
m : input rank-1 array('d') with bounds (262)

Returns
-------
p : rank-1 array('d') with bounds (83)

grad = demsav(drdx,c,m,p,flag)

Wrapper for ``demsav``.

Parameters
----------
drdx : input rank-2 array('d') with bounds (15,10)
c : input rank-1 array('d') with bounds (83)
m : input rank-1 array('d') with bounds (262)
p : input rank-1 array('d') with bounds (83)
flag : input int

Returns
-------
grad : float
dp = dbemsav(drdx,m,p,flag)

Wrapper for ``dbemsav``.

Parameters
----------
drdx : input rank-2 array('d') with bounds (15,10)
m : input rank-1 array('d') with bounds (262)
p : input rank-1 array('d') with bounds (83)
flag : input int

Returns
-------
dp : rank-1 array('d') with bounds (83)
dm = devmono(drdx,m,flag)

Wrapper for ``devmono``.

Parameters
----------
drdx : input rank-2 array('d') with bounds (15,10)
m : input rank-1 array('d') with bounds (262)
flag : input int

Returns
-------
dm : rank-1 array('d') with bounds (262)
dp = devpoly(dm,p)

Wrapper for ``devpoly``.

Parameters
----------
dm : input rank-1 array('d') with bounds (262)
p : input rank-1 array('d') with bounds (83)

Returns
-------
dp : rank-1 array('d') with bounds (83)

```
